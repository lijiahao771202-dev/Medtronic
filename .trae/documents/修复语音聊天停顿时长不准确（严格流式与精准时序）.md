## 问题判断
- 停顿标签在流式输出中常被拆分，未闭合即排程会导致停顿丢失或时长不准。
- 解码与线程调度带来抖动，若用 `start(now+ε)` 会压缩停顿；若先播后更改指针会拉长停顿。
- 需要用统一时间轴与就位播放，并记录实际启动时间对后续指针做漂移补偿。

## 修复目标
- 严格执行 `[pause:N...]`（单位 `ms/s/秒`、支持全角数字）的 N 秒停顿。
- 保持真正流式：文本到达即解析；音频片段边到边解码并在“指针就位”时启动；不注入静音。
- 加入高精度计时与误差补偿，使累计误差 < 100ms。

## 技术方案
1. 解析层（保持单位范围）
- 仅在标签闭合后产生命令；保留残片直至闭合（`]/］/】/)/）/}/｝`）。
- 数字归一：将全角数字 ０–９转换为半角；单位严格支持 `ms/s/秒`；允许空格（如 `[pause: 3 s]`）。

2. 时序调度（关键）
- 统一指针 `T`（秒）：
  - 收到停顿：`T += pauseMs/1000`。
  - 收到音频：
    1) 并发解码（深度 2–3）；得到 `buffer` 后计算目标 `target = T`；
    2) 若 `audioCtx.currentTime + ε < target`，先 `await sleep((target - currentTime - ε) * 1000)`，然后 `source.start()`；
    3) 否则直接 `source.start()`；
    4) 记录 `actual = audioCtx.currentTime`；更新指针：`T = max(T, actual) + buffer.duration`。
- 漂移补偿：
  - 计算 `drift = actual - target`；若 `|drift| > 0.05s`，在后续 `T` 上叠加反向校正，避免累计误差（例如 `T += -drift` 限幅 100ms）。

3. 可视化与诊断（可选但推荐）
- 在底部显示：当前停顿 `N s` 与剩余秒数；显示最新 `drift` 与累计误差（开发模式）。
- 若标签未命中（变体超出 `ms/s/秒`），在解析状态行标红提示（开发模式）。

4. 验收用例
- 单标签：`[pause:2s]、[pause:8s]、[pause:10s]、[pause:3秒]` 均严格时长。
- 连续停顿：`2s + 8s + 4s` 累计停 14s 后继续播放。
- 流式拆分：标签被拆成两段到达仍能命中；不朗读“3s/500ms/3秒”。
- 长会话累计漂移 < 100ms。

## 实施步骤
1) 解析层：扩展空格容忍与全角数字归一，保持单位范围不变（`ms/s/秒`）。
2) 调度层：实现就位播放与 `sleep` gate、`drift` 记录与补偿，统一用 `T` 驱动；严禁插入静音片段。
3) 可视化：暂停倒计时与（开发模式）解析状态/误差显示。
4) 本地验证上述用例，记录时间戳日志，确认误差门限内；如需要再收紧 ε 或补偿策略。

---
确认后我将按此方案修改调度代码（仅时序与可视化，保留现有功能），并用你提供的长文本逐一验证停顿时长精准度。