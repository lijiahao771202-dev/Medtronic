## 问题研判
- 流式增量经常把标签拆分为若干片段（如 "[pause:1" + "0s]"），如果在闭合前调度片段，停顿会被漏掉或压缩。
- 文本中可能混入不可见字符（零宽/全角空格）、全角数字、中文数字与空格分隔（如 "[pause : 三 秒]"），导致正则未命中。
- 模型有时不严格输出标签或输出变体（如 "sec/秒钟"），需要归一化与诊断来定位问题来源。

## 总体目标
- 在不破坏流式体验的前提下，让所有合规写法的 `[pause:...]` 在到达时被稳定识别并按精确时长执行。
- 增强解析前的归一化，添加实时诊断视图，必要时在服务端合并标签流。

## 方案分层
### 1) 客户端解析与时序（保持流式）
- 标签闭合识别：缓冲未闭合的 "[...]"，只在闭合后产生命令（维持现有 buf 机制，增加对空格变体的容忍）。
- 归一化增强：
  - 清理不可见字符：零宽、NBSP、全角空格 → 普通空格。
  - 数字统一：全角数字 → 半角；中文数字在“秒”单位下转换为阿拉伯数字（如 十五秒 → 15秒）。
  - 空格容忍：支持 `[pause : 3 s] / [pause: 3秒]` 等写法。
- 就位播放 + 漂移补偿：
  - 统一指针 `T`，遇到停顿 `T += Ns`。
  - 每个片段等待到 `T` 再启动，记录 `drift=actual-target`，超阈（50ms）时做反向校正，避免累计误差。

### 2) 开发诊断（默认隐藏）
- URL 开关 `?debugPause=1`：
  - 显示“标签解析状态”（命中/未命中、原文片段、当前 `T`、最新漂移）。
  - 不影响用户功能，仅用于定位具体未命中形态。

### 3) 服务端（可选增强，保持提示词不变）
- 流式合并标签：在代理的 SSE 中对 `[pause:...]` 进行括号内合并（直到 `]` 才输出），避免在标签中间切断造成前端闭合困难。
- 时间码模式（备选）：服务端为每段文本给出 `targetStart` 时间码，前端仅就位开播（强一致，改动较大，作为备用）。

## 验收用例
- 命中与时长：`[pause:3s] / [pause:5s] / ［pause：１０s］ / [pause: 三 秒] / [pause :十秒]` 均被识别，倒计时与体感一致。
- 连续停顿：`2s + 8s + 4s` 累计停 14s 后继续播放；不朗读“3s/3秒/500ms”。

## 执行步骤
1) 在分段器前增加归一化函数（不可见字符清理、全角→半角、中文数字→阿拉伯数字仅限“秒”单位）。
2) 强化空格容忍的闭合正则，确保 `[pause : 3 s]` 等闭合仍识别。
3) 保留就位播放与漂移补偿，增加调试视图（URL 开关）。
4) 如仍存在“标签被拆片漏识别”的情况，启用服务端标签合并（SSE 输出时只在闭合后发送标签片段）。

---
我将按以上步骤修改客户端归一化与诊断，并保留现有流式与时序，实现后用你提供的长文本逐一验证，确保停顿标签稳定命中且时长准确。