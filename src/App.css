/* 全局基础样式 */
.app-container { max-width: 960px; margin: 0 auto; padding: 16px; color: var(--text-primary); }

.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border-radius: 16px;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(14px) saturate(120%);
  box-shadow: 0 8px 24px rgba(0,0,0,0.25), inset 0 1px rgba(255,255,255,0.25);
}

.navbar a {
  text-decoration: none;
  color: var(--text-secondary);
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid transparent;
  transition: all .2s ease;
}

.navbar a:hover {
  color: var(--text-primary);
  border-color: var(--glass-border);
}

.navbar a.active {
  background: rgba(255,255,255,0.14);
  color: var(--text-primary);
  border-color: var(--glass-border);
  box-shadow: inset 0 1px rgba(255,255,255,0.25);
}

.content-area { margin-top: 16px; }

.glass-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 18px; padding: 14px; backdrop-filter: blur(16px) saturate(130%); box-shadow: 0 10px 30px rgba(0,0,0,0.25), inset 0 1px rgba(255,255,255,0.25); }

/* 首页 */
.home-page .controls { margin-bottom: 16px; text-align: left; }
.preset-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
.preset-btn { padding: 6px 10px; border-radius: 12px; border: 1px solid var(--glass-border); background: rgba(255,255,255,0.08); color: var(--text-primary); cursor: pointer; backdrop-filter: blur(8px); }
.preset-btn.active { background: rgba(99,102,241,0.22); border-color: rgba(99,102,241,0.45); box-shadow: inset 0 1px rgba(255,255,255,0.3); }
.actions { margin-top: 32px; display: flex; gap: 8px; justify-content: center; }
.btn-primary { background: linear-gradient(135deg, rgba(99,102,241,0.6), rgba(129,140,248,0.4)); color: var(--text-primary); border: 1px solid rgba(99,102,241,0.5); padding: 8px 14px; border-radius: 12px; cursor: pointer; backdrop-filter: blur(10px) saturate(180%); box-shadow: 0 8px 20px rgba(99,102,241,0.25), inset 0 1px rgba(255,255,255,0.3); transition: all 0.2s ease-in-out; }
.btn-primary:hover { background: linear-gradient(135deg, rgba(99,102,241,0.7), rgba(129,140,248,0.5)); border-color: rgba(99,102,241,0.7); box-shadow: 0 10px 25px rgba(99,102,241,0.35), inset 0 1px rgba(255,255,255,0.4); transform: translateY(-1px); }
.btn-secondary { background: rgba(255,255,255,0.08); color: var(--text-primary); border: 1px solid var(--glass-border); padding: 8px 14px; border-radius: 12px; cursor: pointer; backdrop-filter: blur(8px); }
.countdown { margin-top: 12px; font-size: 18px; color: var(--text-secondary); }

.breathing { display: flex; flex-direction: column; align-items: center; gap: 12px; margin-top: 20px; }
.breathing-section { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 64px; min-height: 380px; padding: 16px 0; }
.ball { position: relative; width: 180px; height: 180px; border-radius: 50%; background: linear-gradient(135deg, rgba(255,255,255,0.55), rgba(255,255,255,0.08)); will-change: transform; box-shadow: 0 18px 40px rgba(99,102,241,0.25), inset 0 12px 24px rgba(255,255,255,0.25), inset 0 -8px 24px rgba(99,102,241,0.25); border: 1px solid rgba(255,255,255,0.35); backdrop-filter: blur(10px) saturate(130%); }
.ball::before { content: ''; position: absolute; top: 18%; left: 22%; width: 40%; height: 40%; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.85), transparent 60%); filter: blur(2px); }
.ball::after { content: ''; position: absolute; bottom: 12%; right: 12%; width: 30%; height: 30%; border-radius: 50%; background: radial-gradient(circle at 50% 50%, rgba(99,102,241,0.35), transparent 60%); filter: blur(0.5px); }
.ball-content { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; pointer-events: none; text-align: center; }
.ball-content .phase { font-size: 22px; font-weight: 700; color: var(--text-primary); text-shadow: 0 1px 2px rgba(0,0,0,0.25); animation: phasePulse 3s ease-in-out infinite; }

/* 相位主题与荧光效果 */
.ball.phase-inhale { box-shadow: 0 22px 50px rgba(14,165,233,0.28), inset 0 14px 28px rgba(255,255,255,0.28), inset 0 -10px 26px rgba(14,165,233,0.26); border-color: rgba(147,197,253,0.6); }
.ball.phase-hold { box-shadow: 0 22px 50px rgba(234,179,8,0.26), inset 0 14px 28px rgba(255,255,255,0.28), inset 0 -10px 26px rgba(234,179,8,0.26); border-color: rgba(253,230,138,0.6); }
.ball.phase-exhale { box-shadow: 0 22px 50px rgba(99,102,241,0.30), inset 0 14px 28px rgba(255,255,255,0.28), inset 0 -10px 26px rgba(99,102,241,0.30); border-color: rgba(199,210,254,0.6); }

.ball.phase-inhale::after { background: radial-gradient(circle at 50% 50%, rgba(14,165,233,0.35), transparent 65%); }
.ball.phase-hold::after { background: radial-gradient(circle at 50% 50%, rgba(234,179,8,0.35), transparent 65%); }
.ball.phase-exhale::after { background: radial-gradient(circle at 50% 50%, rgba(99,102,241,0.40), transparent 65%); }

.ball-content.phase-inhale .phase { color: #93c5fd; text-shadow: 0 0 6px rgba(147,197,253,0.7), 0 0 16px rgba(147,197,253,0.35); }
.ball-content.phase-hold .phase { color: #fde68a; text-shadow: 0 0 6px rgba(253,230,138,0.7), 0 0 16px rgba(253,230,138,0.35); }
.ball-content.phase-exhale .phase { color: #c7d2fe; text-shadow: 0 0 6px rgba(199,210,254,0.7), 0 0 16px rgba(199,210,254,0.35); }

@keyframes phasePulse {
  0%, 100% { transform: translateY(0); filter: drop-shadow(0 0 0 rgba(255,255,255,0)); }
  50% { transform: translateY(-1px); filter: drop-shadow(0 0 6px rgba(255,255,255,0.25)); }
}
.guide { text-align: center; }
.phase { font-size: 24px; font-weight: 600; }
.seconds { font-size: 18px; color: var(--text-secondary); }
.hint { font-size: 14px; color: var(--text-secondary); }

/* 统计页 */
.stats-page { display: grid; gap: 16px; }
.month-switch { display: flex; align-items: center; justify-content: space-between; }
.calendar { border-radius: 16px; padding: 10px; }
.week-header { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-bottom: 6px; }
.grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.cell { min-height: 60px; border-radius: 8px; background: rgba(255,255,255,0.06); display: flex; align-items: center; justify-content: center; backdrop-filter: blur(6px); border: 1px solid rgba(255,255,255,0.08); }
.cell.empty { background: transparent; border: none; }
.cell.head { background: transparent; font-weight: 600; color: var(--text-secondary); border: none; }
.day { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 8px; }
.day.meditated { background: rgba(16,185,129,0.25); color: #bbf7d0; font-weight: 600; border: 1px solid rgba(16,185,129,0.35); }
.summary { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.summary-item { background: rgba(255,255,255,0.08); padding: 10px; border-radius: 12px; border: 1px solid var(--glass-border); backdrop-filter: blur(8px); }
.summary-item .label { color: var(--text-secondary); }
.summary-item .value { font-size: 18px; font-weight: 600; }
.mood-list { display: flex; gap: 8px; flex-wrap: wrap; }
.mood-chip { display: flex; align-items: center; gap: 6px; background: rgba(238,242,255,0.2); color: #c7d2fe; padding: 6px 10px; border-radius: 999px; border: 1px solid rgba(99,102,241,0.35); }
.empty-tip { color: var(--text-secondary); }
.history-item { display: flex; gap: 8px; color: var(--text-primary); }
.history-item .split { color: var(--text-secondary); }

/* 智能体页面 */
.agent-page { display: grid; gap: 10px; }
.agent-page .tip { color: var(--text-secondary); }
.agent-page textarea { width: 100%; resize: vertical; padding: 8px; border-radius: 12px; border: 1px solid var(--glass-border); background: rgba(255,255,255,0.08); color: var(--text-primary); backdrop-filter: blur(8px); }

/* 类型页面 */
.type-page {
  display: grid;
  gap: 16px;
}

.meditation-cards-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.meditation-card-link {
  text-decoration: none;
  color: inherit;
}

.meditation-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 150px; /* 示例高度，可根据内容调整 */
  text-align: center;
  transition: transform 0.2s ease-in-out;
}

.meditation-card:hover {
  transform: translateY(-5px);
}

.meditation-card h4 {
  margin-top: 0;
  margin-bottom: 8px;
  color: var(--text-primary);
}

.meditation-card p {
  color: var(--text-secondary);
  font-size: 0.9em;
}

/* 模态框 */
.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); display: flex; align-items: center; justify-content: center; }
.modal { background: var(--glass-bg); padding: 16px; width: min(520px, 92%); border-radius: 18px; border: 1px solid var(--glass-border); backdrop-filter: blur(16px) saturate(130%); box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px rgba(255,255,255,0.25); }
.mood-options { display: flex; gap: 8px; flex-wrap: wrap; margin: 10px 0; }
.mood-btn { border: 1px solid var(--glass-border); background: rgba(255,255,255,0.08); padding: 6px 10px; border-radius: 999px; cursor: pointer; color: var(--text-primary); }
.mood-btn.active { background: rgba(16,185,129,0.25); border-color: rgba(16,185,129,0.45); color: #bbf7d0; }
.modal-actions { display: flex; justify-content: flex-end; gap: 8px; margin-top: 10px; }
.range { display: flex; align-items: center; gap: 12px; justify-content: center; }
.range-value { /* display: none; */ }
.range input[type="range"] { -webkit-appearance: none; appearance: none; width: 50%; height: 8px; border-radius: 999px; background: rgba(255,255,255,0.15); outline: none; border: 1px solid var(--glass-border); backdrop-filter: blur(10px); }
.range input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 24px; height: 24px; border-radius: 50%; background: rgba(255,255,255,0.85); border: 1px solid rgba(255,255,255,0.5); box-shadow: 0 6px 16px rgba(0,0,0,0.4), inset 0 1px rgba(255,255,255,0.3); backdrop-filter: blur(8px); cursor: grab; }
.range input[type="range"]::-moz-range-thumb { width: 24px; height: 24px; border-radius: 50%; background: rgba(255,255,255,0.85); border: 1px solid rgba(255,255,255,0.5); box-shadow: 0 6px 16px rgba(0,0,0,0.4), inset 0 1px rgba(255,255,255,0.3); cursor: grab; }
.range input[type="range"]::-moz-range-track { height: 8px; border-radius: 999px; background: rgba(255,255,255,0.15); border: 1px solid var(--glass-border); backdrop-filter: blur(10px); }
.controls-inline { width: min(560px, 92%); display: grid; gap: 32px; margin-top: 12px; }
.controls-inline label { color: var(--text-secondary); }

/* 运行时显示的倒计时进度条（替代时长滑块） */
.controls-inline .progress { position: relative; width: 50%; height: 10px; background: rgba(255,255,255,0.12); border: 1px solid var(--glass-border); border-radius: 999px; overflow: hidden; backdrop-filter: blur(8px); box-shadow: inset 0 1px rgba(255,255,255,0.25); }
.controls-inline .progress::after { content: ''; position: absolute; inset: 0; pointer-events: none; background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0)); opacity: 0.35; }
.controls-inline .progress:hover { border-color: rgba(99,102,241,0.45); box-shadow: inset 0 1px rgba(255,255,255,0.35), 0 6px 18px rgba(99,102,241,0.15); }
.controls-inline .progress-fill { position: relative; height: 100%; width: 0%; background: linear-gradient(90deg, rgba(99,102,241,0.55), rgba(99,102,241,0.35)); border-right: 1px solid rgba(255,255,255,0.45); transition: width .25s ease; }
.controls-inline .progress-fill::after { content: ''; position: absolute; right: -2px; top: 50%; transform: translateY(-50%); width: 12px; height: 12px; border-radius: 50%; background: radial-gradient(circle, rgba(147,197,253,0.9), rgba(99,102,241,0.3)); box-shadow: 0 0 8px rgba(147,197,253,0.9), 0 0 18px rgba(99,102,241,0.5); animation: glowDot 1.8s ease-in-out infinite; }

@keyframes glowDot {
  0%, 100% { transform: translateY(-50%) scale(0.95); opacity: 0.9; }
  50% { transform: translateY(-50%) scale(1.05); opacity: 1; }
}

/* 冥想详情页面 */
.meditation-detail-page {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 100px); /* 调整以适应导航栏高度 */
  gap: 20px;
}

.meditation-detail-page h2 {
  color: var(--text-primary);
  font-size: 2em;
  margin-bottom: 20px;
}

.audio-player-controls {
  display: flex;
  gap: 15px;
  margin-top: 20px;
}

.glass-button {
  background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05));
  color: var(--text-primary);
  border: 1px solid rgba(255,255,255,0.3);
  padding: 10px 20px;
  border-radius: 12px;
  cursor: pointer;
  backdrop-filter: blur(10px) saturate(180%);
  box-shadow: 0 8px 24px rgba(0,0,0,0.25), inset 0 1px rgba(255,255,255,0.25);
  transition: all 0.2s ease-in-out;
}

.glass-button:hover {
  background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
  border-color: rgba(255,255,255,0.4);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px rgba(255,255,255,0.35);
  transform: translateY(-2px);
}

/* Liquid Glass Effect */
.glass-effect {
  background-color: rgba(255, 255, 255, 0.15); /* Semi-transparent white */
  backdrop-filter: blur(10px); /* Blur effect */
  border-radius: 15px; /* Rounded corners */
  border: 1px solid rgba(255, 255, 255, 0.2); /* Light border */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
}
